/* --------------------
   BACKGROUND + BASE
-------------------- */
html, body {
  margin: 0;
  padding: 0;
  min-height: 100vh;
  overflow-x: hidden;
  scroll-behavior: smooth;
  font-family: system-ui, -apple-system, BlinkMacSystemFont;
  color: white;
}

body {
  background: url("background.jpg") center / cover no-repeat;
}
@media (max-width: 768px) {
  body {
    background: url("background-mobile.jpg") center / cover no-repeat;
  }
}
@media (max-width: 768px) {
  body {
    background-attachment: scroll;
  }
}


body {
  /* DESKTOP BACKGROUND */
  background: url("background.jpg") center / cover no-repeat fixed;
}

/* MOBILE BACKGROUND */
@media (max-width: 768px) {
  body {
    background: url("background-mobile.jpg") center / cover no-repeat fixed;
  }
}

/* Soft dreamy fade */
body::after {
  content: "";
  position: fixed;
  inset: 0;
  z-index: -1;
  pointer-events: none;
  background:
    radial-gradient(ellipse at center, rgba(0,0,0,0) 40%, rgba(0,0,0,0.38) 100%),
    linear-gradient(to bottom, rgba(0,0,0,0.12), rgba(0,0,0,0.52));
}

/* --------------------
   LAYOUT
-------------------- */
.page {
  min-height: 100vh;
  display: grid;
  align-items: center;      /* vertical center */
  justify-items: start;     /* LEFT align */
  padding: 24px 24px 24px 48px;
  box-sizing: border-box;
}

/* Hide scrollbar but keep scrolling */
.typewrap {
  scrollbar-width: none;          /* Firefox */
  -ms-overflow-style: none;       /* IE / Edge */
}

.typewrap::-webkit-scrollbar {
  width: 0;
  height: 0;
}



.letter-card {
  width: min(980px, 94vw);
  min-height: min(78vh, 720px);
  display: grid;
  grid-template-columns: 1.3fr 0.9fr;
  gap: 22px;
  align-items: center;
  padding: 22px;
  box-sizing: border-box;
}

@media (max-width: 860px) {
  .letter-card {
    grid-template-columns: 1fr;
    min-height: unset;
  }
}

/* glass */
.glass {
  backdrop-filter: blur(14px);
  -webkit-backdrop-filter: blur(14px);
  background: rgba(255, 255, 255, 0.08);
  border: 1px solid rgba(255, 255, 255, 0.16);
  border-radius: 18px;
  box-shadow: 0 24px 70px rgba(0,0,0,0.22);
}

/* --------------------
   TYPEWRITER
-------------------- */
.typewrap {
  max-height: 62vh;
  overflow: auto;
  padding-right: 8px;
}

#typewriter {
  font-size: 1.05rem;
  line-height: 1.75;
  white-space: normal;
  word-wrap: break-word;
  text-shadow: 0 0 12px rgba(255,255,255,0.15);
}

/* Slightly smaller on tiny phones */
@media (max-width: 480px) {
  #typewriter {
    font-size: 0.95rem;
    line-height: 1.7;
  }
}

/* --------------------
   ACTIONS
-------------------- */
.actions {
  display: grid;
  gap: 14px;
  align-content: center;
}

#christmasBtn {
  width: 100%;
  padding: 14px 18px;
  font-size: 0.98rem;
  color: white;
  background: rgba(255,255,255,0.14);
  border: 1px solid rgba(255,255,255,0.22);
  border-radius: 16px;
  backdrop-filter: blur(14px);
  cursor: pointer;

  opacity: 0;
  transform: translateY(6px);
  transition: opacity 0.9s ease, transform 0.35s ease, background 0.2s ease;
}

#christmasBtn:hover {
  background: rgba(255,255,255,0.20);
  transform: translateY(0) scale(1.02);
}

#christmasBtn:active {
  transform: translateY(0) scale(0.99);
}

.result {
  opacity: 0;
  transform: translateY(6px);
  transition: opacity 0.5s ease, transform 0.5s ease;
  font-size: 0.95rem;
  line-height: 1.6;
  text-shadow: 0 0 8px rgba(255,255,255,0.20);
}

.result.show {
  opacity: 1;
  transform: translateY(0);
}

/* Nice spacing on mobile */
@media (max-width: 480px) {
  .page { padding: 16px; }
  .letter-card { padding: 16px; }
}
/* --------------------
   LETTER COLLAPSE (smooth + smexy)
-------------------- */

.typewrap {
  max-height: 62vh;
  overflow: auto;
  padding-right: 8px;

  /* NEW: smooth collapse animation */
  transition: max-height 700ms cubic-bezier(.2,.9,.2,1), opacity 450ms ease;
  opacity: 1;
}

.typewrap.collapsed {
  max-height: 0 !important;
  opacity: 0;
  overflow: hidden;
  padding-right: 0;
}

/* A cute “glass ghost” button */
.ghost-btn {
  width: 100%;
  padding: 12px 16px;
  font-size: 0.95rem;
  color: white;
  background: rgba(255,255,255,0.10);
  border: 1px solid rgba(255,255,255,0.18);
  border-radius: 16px;
  backdrop-filter: blur(14px);
  cursor: pointer;

  opacity: 0;
  transform: translateY(6px);
  transition: opacity 0.6s ease, transform 0.35s ease, background 0.2s ease;
}

.ghost-btn.show {
  opacity: 1;
  transform: translateY(0);
}

.ghost-btn:hover {
  background: rgba(255,255,255,0.18);
  transform: translateY(0) scale(1.02);
}

.ghost-btn:active {
  transform: translateY(0) scale(0.99);
}
/* --------------------
   DESKTOP: collapse the whole left column + slide actions left
-------------------- */
@media (min-width: 861px) {
  /* Make actions slide smoothly */
  .actions {
    transition: transform 700ms cubic-bezier(.2,.9,.2,1);
  }

  /* When collapsed, remove the left column and let actions take over */
  .letter-card.letter-collapsed {
    grid-template-columns: 0fr 1fr;
  }

  /* Ensure letter area truly disappears and doesn't eat space */
  .letter-card.letter-collapsed #letterWrap {
    max-height: 0 !important;
    opacity: 0;
    overflow: hidden;
    padding-right: 0;
    pointer-events: none;
  }

  /* Actions shift left into the freed space */
  .letter-card.letter-collapsed .actions {
    grid-column: 1 / -1;
    justify-self: start;
    width: min(420px, 94vw);
    transform: translateX(-18px);
  }
}
